import{S as Je,i as Xe,s as Fe,k as u,J as la,a as b,q as V,l as c,m as p,K as ra,h as _,c as E,r as O,n as s,b as Ke,G as a,u as C,H as De,L as Ue,M as H,N as oa,O as ua,y as Ie,z as Ne,A as Te,g as x,d as ne,f as ca,B as Le,I as _a,v as fa}from"../chunks/index.6e0d7ef1.js";import{e as da,N as pa,U as ha,l as na}from"../chunks/lang.f2a1bd24.js";import{p as ma}from"../chunks/stores.ac3672e6.js";function va(t){let r,l,e,o,d,h;return{c(){r=u("div"),l=la("svg"),e=la("path"),o=b(),d=u("span"),h=V(t[0]),this.h()},l(i){r=c(i,"DIV",{class:!0});var m=p(r);l=ra(m,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var v=p(l);e=ra(v,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(e).forEach(_),v.forEach(_),o=E(m),d=c(m,"SPAN",{});var k=p(d);h=O(k,t[0]),k.forEach(_),m.forEach(_),this.h()},h(){s(e,"stroke-linecap","round"),s(e,"stroke-linejoin","round"),s(e,"stroke-width","2"),s(e,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),s(l,"xmlns","http://www.w3.org/2000/svg"),s(l,"class","stroke-current shrink-0 h-6 w-6"),s(l,"fill","none"),s(l,"viewBox","0 0 24 24"),s(r,"class","alert alert-error")},m(i,m){Ke(i,r,m),a(r,l),a(l,e),a(r,o),a(r,d),a(d,h)},p(i,[m]){m&1&&C(h,i[0])},i:De,o:De,d(i){i&&_(r)}}}function ga(t,r,l){let{message:e}=r;return t.$$set=o=>{"message"in o&&l(0,e=o.message)},[e]}class ba extends Je{constructor(r){super(),Xe(this,r,ga,va,Fe,{message:0})}}function Ea(t){let r,l,e,o=t[1].modaltitle+"",d,h,i,m,v,k,T=t[1].modalbutton+"",P,z,J;return{c(){r=u("dialog"),l=u("form"),e=u("h2"),d=V(o),h=b(),i=u("textarea"),m=b(),v=u("div"),k=u("button"),P=V(T),this.h()},l(y){r=c(y,"DIALOG",{id:!0,class:!0});var S=p(r);l=c(S,"FORM",{method:!0,class:!0});var j=p(l);e=c(j,"H2",{class:!0});var X=p(e);d=O(X,o),X.forEach(_),h=E(j),i=c(j,"TEXTAREA",{class:!0,rows:!0}),p(i).forEach(_),m=E(j),v=c(j,"DIV",{class:!0});var w=p(v);k=c(w,"BUTTON",{class:!0});var M=p(k);P=O(M,T),M.forEach(_),w.forEach(_),j.forEach(_),S.forEach(_),this.h()},h(){s(e,"class","font-bold text-lg py-4"),s(i,"class","textarea textarea-primary mb-10 w-full"),s(i,"rows","4"),i.disabled=!0,s(k,"class","btn"),s(v,"class","modal-action"),s(l,"method","dialog"),s(l,"class","modal-box"),s(r,"id","dialog"),s(r,"class","modal")},m(y,S){Ke(y,r,S),a(r,l),a(l,e),a(e,d),a(l,h),a(l,i),Ue(i,t[0]),a(l,m),a(l,v),a(v,k),a(k,P),z||(J=[H(i,"input",t[4]),H(k,"click",t[5])],z=!0)},p(y,[S]){S&2&&o!==(o=y[1].modaltitle+"")&&C(d,o),S&1&&Ue(i,y[0]),S&2&&T!==(T=y[1].modalbutton+"")&&C(P,T)},i:De,o:De,d(y){y&&_(r),z=!1,oa(J)}}}function wa(t,r,l){let{message:e}=r,{reset:o}=r,{sl:d}=r;function h(){navigator.clipboard.writeText(e),o()}function i(){e=this.value,l(0,e)}const m=()=>h();return t.$$set=v=>{"message"in v&&l(0,e=v.message),"reset"in v&&l(3,o=v.reset),"sl"in v&&l(1,d=v.sl)},[e,d,h,o,i,m]}class ka extends Je{constructor(r){super(),Xe(this,r,wa,Ea,Fe,{message:0,reset:3,sl:1})}}async function ya(t,r){const{key:l,ciphertext:e}=da(t),d=await fetch("/api/secret",{method:"post",body:JSON.stringify({secret:e,days:r})}),h=await d.json();return{status:d.status,id:h==null?void 0:h.id,password:l}}function ia(t){let r,l;return r=new ba({props:{message:t[1].error}}),{c(){Ie(r.$$.fragment)},l(e){Ne(r.$$.fragment,e)},m(e,o){Te(r,e,o),l=!0},p(e,o){const d={};o&2&&(d.message=e[1].error),r.$set(d)},i(e){l||(x(r.$$.fragment,e),l=!0)},o(e){ne(r.$$.fragment,e),l=!1},d(e){Le(r,e)}}}function Ia(t){let r,l,e,o,d,h,i,m,v,k,T,P,z,J,y,S=t[1].title+"",j,X,w,M,Y=t[1].steps.A+"",R,ie,F,Z=t[1].steps.B+"",K,Ae,ee,oe=t[1].steps.C+"",de,Se,ae,ue=t[1].steps.D+"",pe,Pe,te,ce=t[1].steps.E+t[2]+" "+(t[2]>1?t[1].days.plural:t[1].days.single),he,je,B,me,Be,se,_e=t[1].expires+"",ve,Ve,$,L,ge,Oe,D,be,$e,U,Ee,Me,A,we,Ce,G,fe=t[1].button+"",ke,Re,ye,W,I,qe,He,We;m=new pa({}),P=new ha({});let g=t[4]>=400&&ia(t);return W=new ka({props:{message:t[3],reset:t[8],sl:t[1]}}),qe=ua(t[13][0]),{c(){r=u("div"),l=u("div"),e=u("div"),o=u("label"),d=u("input"),h=b(),i=u("div"),Ie(m.$$.fragment),v=V("NL"),k=b(),T=u("div"),Ie(P.$$.fragment),z=V("EN"),J=b(),y=u("h1"),j=V(S),X=b(),w=u("ul"),M=u("li"),R=V(Y),ie=b(),F=u("li"),K=V(Z),Ae=b(),ee=u("li"),de=V(oe),Se=b(),ae=u("li"),pe=V(ue),Pe=b(),te=u("li"),he=V(ce),je=b(),B=u("textarea"),Be=b(),se=u("p"),ve=V(_e),Ve=b(),$=u("div"),L=u("input"),Oe=b(),D=u("input"),$e=b(),U=u("input"),Me=b(),A=u("input"),Ce=b(),G=u("button"),ke=V(fe),Re=b(),g&&g.c(),ye=b(),Ie(W.$$.fragment),this.h()},l(n){r=c(n,"DIV",{class:!0});var f=p(r);l=c(f,"DIV",{class:!0});var le=p(l);e=c(le,"DIV",{class:!0});var N=p(e);o=c(N,"LABEL",{class:!0});var re=p(o);d=c(re,"INPUT",{type:!0}),h=E(re),i=c(re,"DIV",{class:!0});var ze=p(i);Ne(m.$$.fragment,ze),v=O(ze,"NL"),ze.forEach(_),k=E(re),T=c(re,"DIV",{class:!0});var Ge=p(T);Ne(P.$$.fragment,Ge),z=O(Ge,"EN"),Ge.forEach(_),re.forEach(_),J=E(N),y=c(N,"H1",{class:!0});var Qe=p(y);j=O(Qe,S),Qe.forEach(_),X=E(N),w=c(N,"UL",{class:!0});var q=p(w);M=c(q,"LI",{class:!0});var Ye=p(M);R=O(Ye,Y),Ye.forEach(_),ie=E(q),F=c(q,"LI",{class:!0});var Ze=p(F);K=O(Ze,Z),Ze.forEach(_),Ae=E(q),ee=c(q,"LI",{class:!0});var xe=p(ee);de=O(xe,oe),xe.forEach(_),Se=E(q),ae=c(q,"LI",{class:!0});var ea=p(ae);pe=O(ea,ue),ea.forEach(_),Pe=E(q),te=c(q,"LI",{class:!0});var aa=p(te);he=O(aa,ce),aa.forEach(_),q.forEach(_),je=E(N),B=c(N,"TEXTAREA",{class:!0,rows:!0,maxlength:!0,placeholder:!0}),p(B).forEach(_),Be=E(N),se=c(N,"P",{class:!0});var ta=p(se);ve=O(ta,_e),ta.forEach(_),Ve=E(N),$=c(N,"DIV",{class:!0});var Q=p($);L=c(Q,"INPUT",{class:!0,type:!0,name:!0,"aria-label":!0}),Oe=E(Q),D=c(Q,"INPUT",{class:!0,type:!0,name:!0,"aria-label":!0}),$e=E(Q),U=c(Q,"INPUT",{class:!0,type:!0,name:!0,"aria-label":!0}),Me=E(Q),A=c(Q,"INPUT",{class:!0,type:!0,name:!0,"aria-label":!0}),Q.forEach(_),Ce=E(N),G=c(N,"BUTTON",{class:!0});var sa=p(G);ke=O(sa,fe),sa.forEach(_),Re=E(N),g&&g.l(N),ye=E(N),Ne(W.$$.fragment,N),N.forEach(_),le.forEach(_),f.forEach(_),this.h()},h(){s(d,"type","checkbox"),s(i,"class","swap-off"),s(T,"class","swap-on"),s(o,"class","swap"),s(y,"class","text-5xl font-bold mb-10"),s(M,"class","step step-primary"),s(F,"class","step step-primary"),s(ee,"class","step step-primary"),s(ae,"class","step step-primary"),s(te,"class","step step-secondary"),s(w,"class","steps mb-10"),s(B,"class","textarea textarea-primary mb-10 w-full"),s(B,"rows","4"),s(B,"maxlength","1500"),B.required=!0,s(B,"placeholder",me=t[1].placeholder),s(se,"class","mb-10"),s(L,"class","join-item btn"),s(L,"type","radio"),s(L,"name","days"),L.__value=1,L.value=L.__value,s(L,"aria-label",ge="1 "+t[1].days.single),s(D,"class","join-item btn"),s(D,"type","radio"),s(D,"name","days"),D.__value=3,D.value=D.__value,s(D,"aria-label",be="3 "+t[1].days.plural),s(U,"class","join-item btn"),s(U,"type","radio"),s(U,"name","days"),U.__value=5,U.value=U.__value,s(U,"aria-label",Ee="5 "+t[1].days.plural),s(A,"class","join-item btn"),s(A,"type","radio"),s(A,"name","days"),A.__value=7,A.value=A.__value,s(A,"aria-label",we="7 "+t[1].days.plural),s($,"class","join mb-10"),G.disabled=t[5],s(G,"class","btn btn-primary mb-10"),s(e,"class","max-w-md"),s(l,"class","hero-content text-center items-center"),s(r,"class","hero min-h-screen bg-base-200"),qe.p(L,D,U,A)},m(n,f){Ke(n,r,f),a(r,l),a(l,e),a(e,o),a(o,d),a(o,h),a(o,i),Te(m,i,null),a(i,v),a(o,k),a(o,T),Te(P,T,null),a(T,z),a(e,J),a(e,y),a(y,j),a(e,X),a(e,w),a(w,M),a(M,R),a(w,ie),a(w,F),a(F,K),a(w,Ae),a(w,ee),a(ee,de),a(w,Se),a(w,ae),a(ae,pe),a(w,Pe),a(w,te),a(te,he),a(e,je),a(e,B),Ue(B,t[0]),a(e,Be),a(e,se),a(se,ve),a(e,Ve),a(e,$),a($,L),L.checked=L.__value===t[2],a($,Oe),a($,D),D.checked=D.__value===t[2],a($,$e),a($,U),U.checked=U.__value===t[2],a($,Me),a($,A),A.checked=A.__value===t[2],a(e,Ce),a(e,G),a(G,ke),a(e,Re),g&&g.m(e,null),a(e,ye),Te(W,e,null),I=!0,He||(We=[H(i,"click",t[9]),H(T,"click",t[10]),H(B,"input",t[11]),H(L,"change",t[12]),H(D,"change",t[14]),H(U,"change",t[15]),H(A,"change",t[16]),H(G,"click",t[17])],He=!0)},p(n,[f]){(!I||f&2)&&S!==(S=n[1].title+"")&&C(j,S),(!I||f&2)&&Y!==(Y=n[1].steps.A+"")&&C(R,Y),(!I||f&2)&&Z!==(Z=n[1].steps.B+"")&&C(K,Z),(!I||f&2)&&oe!==(oe=n[1].steps.C+"")&&C(de,oe),(!I||f&2)&&ue!==(ue=n[1].steps.D+"")&&C(pe,ue),(!I||f&6)&&ce!==(ce=n[1].steps.E+n[2]+" "+(n[2]>1?n[1].days.plural:n[1].days.single))&&C(he,ce),(!I||f&2&&me!==(me=n[1].placeholder))&&s(B,"placeholder",me),f&1&&Ue(B,n[0]),(!I||f&2)&&_e!==(_e=n[1].expires+"")&&C(ve,_e),(!I||f&2&&ge!==(ge="1 "+n[1].days.single))&&s(L,"aria-label",ge),f&4&&(L.checked=L.__value===n[2]),(!I||f&2&&be!==(be="3 "+n[1].days.plural))&&s(D,"aria-label",be),f&4&&(D.checked=D.__value===n[2]),(!I||f&2&&Ee!==(Ee="5 "+n[1].days.plural))&&s(U,"aria-label",Ee),f&4&&(U.checked=U.__value===n[2]),(!I||f&2&&we!==(we="7 "+n[1].days.plural))&&s(A,"aria-label",we),f&4&&(A.checked=A.__value===n[2]),(!I||f&2)&&fe!==(fe=n[1].button+"")&&C(ke,fe),(!I||f&32)&&(G.disabled=n[5]),n[4]>=400?g?(g.p(n,f),f&16&&x(g,1)):(g=ia(n),g.c(),x(g,1),g.m(e,ye)):g&&(fa(),ne(g,1,1,()=>{g=null}),ca());const le={};f&8&&(le.message=n[3]),f&2&&(le.sl=n[1]),W.$set(le)},i(n){I||(x(m.$$.fragment,n),x(P.$$.fragment,n),x(g),x(W.$$.fragment,n),I=!0)},o(n){ne(m.$$.fragment,n),ne(P.$$.fragment,n),ne(g),ne(W.$$.fragment,n),I=!1},d(n){n&&_(r),Le(m),Le(P),g&&g.d(),Le(W),qe.r(),He=!1,oa(We)}}}function Na(t,r,l){let e,o;_a(t,ma,R=>l(18,o=R));let d=na.nl,h="",i=7,m="",v=200;function k(R){l(1,d=na[R])}async function T(){const{status:R,id:ie,password:F}=await ya(h,i);l(4,v=R);const Z=o.url.origin+"/secret/"+ie;l(3,m=`URL:	${Z}
PASSWORD:	${F}`);const K=document.querySelector("dialog");K==null||K.showModal()}const P=()=>{l(0,h="")},z=[[]],J=()=>k("en"),y=()=>k("nl");function S(){h=this.value,l(0,h)}function j(){i=this.__value,l(2,i)}function X(){i=this.__value,l(2,i)}function w(){i=this.__value,l(2,i)}function M(){i=this.__value,l(2,i)}const Y=()=>T();return t.$$.update=()=>{t.$$.dirty&1&&l(5,e=!h)},[h,d,i,m,v,e,k,T,P,J,y,S,j,z,X,w,M,Y]}class Ua extends Je{constructor(r){super(),Xe(this,r,Na,Ia,Fe,{})}}export{Ua as component};
