import{S as Je,i as Xe,s as Fe,k as u,J as sa,a as b,q as B,l as c,m as d,K as ra,h as _,c as E,r as M,n as l,b as Ke,G as a,u as q,H as Ue,L as De,M as z,N as oa,O as ua,y as Ie,z as Ne,A as Te,g as Y,d as se,f as ca,B as Le,I as _a,v as fa}from"../chunks/index.6e0d7ef1.js";import{N as da,U as pa,l as na}from"../chunks/lang.6f7614c2.js";import{p as ha}from"../chunks/stores.bd296fda.js";function ma(t){let r,s,e,o,p,v;return{c(){r=u("div"),s=sa("svg"),e=sa("path"),o=b(),p=u("span"),v=B(t[0]),this.h()},l(i){r=c(i,"DIV",{class:!0});var h=d(r);s=ra(h,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var m=d(s);e=ra(m,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),d(e).forEach(_),m.forEach(_),o=E(h),p=c(h,"SPAN",{});var k=d(p);v=M(k,t[0]),k.forEach(_),h.forEach(_),this.h()},h(){l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),l(s,"xmlns","http://www.w3.org/2000/svg"),l(s,"class","stroke-current shrink-0 h-6 w-6"),l(s,"fill","none"),l(s,"viewBox","0 0 24 24"),l(r,"class","alert alert-error")},m(i,h){Ke(i,r,h),a(r,s),a(s,e),a(r,o),a(r,p),a(p,v)},p(i,[h]){h&1&&q(v,i[0])},i:Ue,o:Ue,d(i){i&&_(r)}}}function va(t,r,s){let{message:e}=r;return t.$$set=o=>{"message"in o&&s(0,e=o.message)},[e]}class ga extends Je{constructor(r){super(),Xe(this,r,va,ma,Fe,{message:0})}}function ba(t){let r,s,e,o=t[1].modaltitle+"",p,v,i,h,m,k,T=t[1].modalbutton+"",A,G,X;return{c(){r=u("dialog"),s=u("form"),e=u("h2"),p=B(o),v=b(),i=u("textarea"),h=b(),m=u("div"),k=u("button"),A=B(T),this.h()},l(y){r=c(y,"DIALOG",{id:!0,class:!0});var j=d(r);s=c(j,"FORM",{method:!0,class:!0});var P=d(s);e=c(P,"H2",{class:!0});var F=d(e);p=M(F,o),F.forEach(_),v=E(P),i=c(P,"TEXTAREA",{class:!0,rows:!0}),d(i).forEach(_),h=E(P),m=c(P,"DIV",{class:!0});var w=d(m);k=c(w,"BUTTON",{class:!0});var $=d(k);A=M($,T),$.forEach(_),w.forEach(_),P.forEach(_),j.forEach(_),this.h()},h(){l(e,"class","font-bold text-lg py-4"),l(i,"class","textarea textarea-primary mb-10 w-full"),l(i,"rows","4"),i.disabled=!0,l(k,"class","btn"),l(m,"class","modal-action"),l(s,"method","dialog"),l(s,"class","modal-box"),l(r,"id","dialog"),l(r,"class","modal")},m(y,j){Ke(y,r,j),a(r,s),a(s,e),a(e,p),a(s,v),a(s,i),De(i,t[0]),a(s,h),a(s,m),a(m,k),a(k,A),G||(X=[z(i,"input",t[4]),z(k,"click",t[5])],G=!0)},p(y,[j]){j&2&&o!==(o=y[1].modaltitle+"")&&q(p,o),j&1&&De(i,y[0]),j&2&&T!==(T=y[1].modalbutton+"")&&q(A,T)},i:Ue,o:Ue,d(y){y&&_(r),G=!1,oa(X)}}}function Ea(t,r,s){let{url:e}=r,{reset:o}=r,{sl:p}=r;function v(){navigator.clipboard.writeText(e),o()}function i(){e=this.value,s(0,e)}const h=()=>v();return t.$$set=m=>{"url"in m&&s(0,e=m.url),"reset"in m&&s(3,o=m.reset),"sl"in m&&s(1,p=m.sl)},[e,p,v,o,i,h]}class wa extends Je{constructor(r){super(),Xe(this,r,Ea,ba,Fe,{url:0,reset:3,sl:1})}}async function ka(t,r){const e=await fetch("/api/secret",{method:"post",body:JSON.stringify({secret:t,days:r})}),o=await e.json();return{status:e.status,id:o==null?void 0:o.id}}function ia(t){let r,s;return r=new ga({props:{message:t[1].error}}),{c(){Ie(r.$$.fragment)},l(e){Ne(r.$$.fragment,e)},m(e,o){Te(r,e,o),s=!0},p(e,o){const p={};o&2&&(p.message=e[1].error),r.$set(p)},i(e){s||(Y(r.$$.fragment,e),s=!0)},o(e){se(r.$$.fragment,e),s=!1},d(e){Le(r,e)}}}function ya(t){let r,s,e,o,p,v,i,h,m,k,T,A,G,X,y,j=t[1].title+"",P,F,w,$,W=t[1].steps[1]+"",C,re,H,ne=t[1].steps[2]+"",fe,Se,Z,ie=t[1].steps[3]+"",de,je,x,oe=t[1].steps[4]+"",pe,Ae,ee,ue=t[1].steps[5]+t[2]+" "+(t[2]>1?t[1].days.plural:t[1].days.single),he,Pe,V,me,Ve,ae,ce=t[1].expires+"",ve,Be,O,L,ge,Me,U,be,Oe,D,Ee,$e,S,we,qe,J,_e=t[1].button+"",ke,Ce,ye,K,I,He,Re,Qe;h=new da({}),A=new pa({});let g=t[4]>=400&&ia(t);return K=new wa({props:{url:t[3],reset:t[8],sl:t[1]}}),He=ua(t[13][0]),{c(){r=u("div"),s=u("div"),e=u("div"),o=u("label"),p=u("input"),v=b(),i=u("div"),Ie(h.$$.fragment),m=B("NL"),k=b(),T=u("div"),Ie(A.$$.fragment),G=B("EN"),X=b(),y=u("h1"),P=B(j),F=b(),w=u("ul"),$=u("li"),C=B(W),re=b(),H=u("li"),fe=B(ne),Se=b(),Z=u("li"),de=B(ie),je=b(),x=u("li"),pe=B(oe),Ae=b(),ee=u("li"),he=B(ue),Pe=b(),V=u("textarea"),Ve=b(),ae=u("p"),ve=B(ce),Be=b(),O=u("div"),L=u("input"),Me=b(),U=u("input"),Oe=b(),D=u("input"),$e=b(),S=u("input"),qe=b(),J=u("button"),ke=B(_e),Ce=b(),g&&g.c(),ye=b(),Ie(K.$$.fragment),this.h()},l(n){r=c(n,"DIV",{class:!0});var f=d(r);s=c(f,"DIV",{class:!0});var te=d(s);e=c(te,"DIV",{class:!0});var N=d(e);o=c(N,"LABEL",{class:!0});var le=d(o);p=c(le,"INPUT",{type:!0}),v=E(le),i=c(le,"DIV",{class:!0});var ze=d(i);Ne(h.$$.fragment,ze),m=M(ze,"NL"),ze.forEach(_),k=E(le),T=c(le,"DIV",{class:!0});var Ge=d(T);Ne(A.$$.fragment,Ge),G=M(Ge,"EN"),Ge.forEach(_),le.forEach(_),X=E(N),y=c(N,"H1",{class:!0});var We=d(y);P=M(We,j),We.forEach(_),F=E(N),w=c(N,"UL",{class:!0});var R=d(w);$=c(R,"LI",{class:!0});var Ye=d($);C=M(Ye,W),Ye.forEach(_),re=E(R),H=c(R,"LI",{class:!0});var Ze=d(H);fe=M(Ze,ne),Ze.forEach(_),Se=E(R),Z=c(R,"LI",{class:!0});var xe=d(Z);de=M(xe,ie),xe.forEach(_),je=E(R),x=c(R,"LI",{class:!0});var ea=d(x);pe=M(ea,oe),ea.forEach(_),Ae=E(R),ee=c(R,"LI",{class:!0});var aa=d(ee);he=M(aa,ue),aa.forEach(_),R.forEach(_),Pe=E(N),V=c(N,"TEXTAREA",{class:!0,rows:!0,maxlength:!0,placeholder:!0}),d(V).forEach(_),Ve=E(N),ae=c(N,"P",{class:!0});var ta=d(ae);ve=M(ta,ce),ta.forEach(_),Be=E(N),O=c(N,"DIV",{class:!0});var Q=d(O);L=c(Q,"INPUT",{class:!0,type:!0,name:!0,"aria-label":!0}),Me=E(Q),U=c(Q,"INPUT",{class:!0,type:!0,name:!0,"aria-label":!0}),Oe=E(Q),D=c(Q,"INPUT",{class:!0,type:!0,name:!0,"aria-label":!0}),$e=E(Q),S=c(Q,"INPUT",{class:!0,type:!0,name:!0,"aria-label":!0}),Q.forEach(_),qe=E(N),J=c(N,"BUTTON",{class:!0});var la=d(J);ke=M(la,_e),la.forEach(_),Ce=E(N),g&&g.l(N),ye=E(N),Ne(K.$$.fragment,N),N.forEach(_),te.forEach(_),f.forEach(_),this.h()},h(){l(p,"type","checkbox"),l(i,"class","swap-off"),l(T,"class","swap-on"),l(o,"class","swap"),l(y,"class","text-5xl font-bold mb-10"),l($,"class","step step-primary rotate-45"),l(H,"class","step step-primary"),l(Z,"class","step step-primary"),l(x,"class","step step-primary"),l(ee,"class","step step-secondary"),l(w,"class","steps mb-10"),l(V,"class","textarea textarea-primary mb-10 w-full"),l(V,"rows","4"),l(V,"maxlength","1500"),V.required=!0,l(V,"placeholder",me=t[1].placeholder),l(ae,"class","mb-10"),l(L,"class","join-item btn"),l(L,"type","radio"),l(L,"name","days"),L.__value=1,L.value=L.__value,l(L,"aria-label",ge="1 "+t[1].days.single),l(U,"class","join-item btn"),l(U,"type","radio"),l(U,"name","days"),U.__value=3,U.value=U.__value,l(U,"aria-label",be="3 "+t[1].days.plural),l(D,"class","join-item btn"),l(D,"type","radio"),l(D,"name","days"),D.__value=5,D.value=D.__value,l(D,"aria-label",Ee="5 "+t[1].days.plural),l(S,"class","join-item btn"),l(S,"type","radio"),l(S,"name","days"),S.__value=7,S.value=S.__value,l(S,"aria-label",we="7 "+t[1].days.plural),l(O,"class","join mb-10"),J.disabled=t[5],l(J,"class","btn btn-primary mb-10"),l(e,"class","max-w-md"),l(s,"class","hero-content text-center items-center"),l(r,"class","hero min-h-screen bg-base-200"),He.p(L,U,D,S)},m(n,f){Ke(n,r,f),a(r,s),a(s,e),a(e,o),a(o,p),a(o,v),a(o,i),Te(h,i,null),a(i,m),a(o,k),a(o,T),Te(A,T,null),a(T,G),a(e,X),a(e,y),a(y,P),a(e,F),a(e,w),a(w,$),a($,C),a(w,re),a(w,H),a(H,fe),a(w,Se),a(w,Z),a(Z,de),a(w,je),a(w,x),a(x,pe),a(w,Ae),a(w,ee),a(ee,he),a(e,Pe),a(e,V),De(V,t[0]),a(e,Ve),a(e,ae),a(ae,ve),a(e,Be),a(e,O),a(O,L),L.checked=L.__value===t[2],a(O,Me),a(O,U),U.checked=U.__value===t[2],a(O,Oe),a(O,D),D.checked=D.__value===t[2],a(O,$e),a(O,S),S.checked=S.__value===t[2],a(e,qe),a(e,J),a(J,ke),a(e,Ce),g&&g.m(e,null),a(e,ye),Te(K,e,null),I=!0,Re||(Qe=[z(i,"click",t[9]),z(T,"click",t[10]),z(V,"input",t[11]),z(L,"change",t[12]),z(U,"change",t[14]),z(D,"change",t[15]),z(S,"change",t[16]),z(J,"click",t[17])],Re=!0)},p(n,[f]){(!I||f&2)&&j!==(j=n[1].title+"")&&q(P,j),(!I||f&2)&&W!==(W=n[1].steps[1]+"")&&q(C,W),(!I||f&2)&&ne!==(ne=n[1].steps[2]+"")&&q(fe,ne),(!I||f&2)&&ie!==(ie=n[1].steps[3]+"")&&q(de,ie),(!I||f&2)&&oe!==(oe=n[1].steps[4]+"")&&q(pe,oe),(!I||f&6)&&ue!==(ue=n[1].steps[5]+n[2]+" "+(n[2]>1?n[1].days.plural:n[1].days.single))&&q(he,ue),(!I||f&2&&me!==(me=n[1].placeholder))&&l(V,"placeholder",me),f&1&&De(V,n[0]),(!I||f&2)&&ce!==(ce=n[1].expires+"")&&q(ve,ce),(!I||f&2&&ge!==(ge="1 "+n[1].days.single))&&l(L,"aria-label",ge),f&4&&(L.checked=L.__value===n[2]),(!I||f&2&&be!==(be="3 "+n[1].days.plural))&&l(U,"aria-label",be),f&4&&(U.checked=U.__value===n[2]),(!I||f&2&&Ee!==(Ee="5 "+n[1].days.plural))&&l(D,"aria-label",Ee),f&4&&(D.checked=D.__value===n[2]),(!I||f&2&&we!==(we="7 "+n[1].days.plural))&&l(S,"aria-label",we),f&4&&(S.checked=S.__value===n[2]),(!I||f&2)&&_e!==(_e=n[1].button+"")&&q(ke,_e),(!I||f&32)&&(J.disabled=n[5]),n[4]>=400?g?(g.p(n,f),f&16&&Y(g,1)):(g=ia(n),g.c(),Y(g,1),g.m(e,ye)):g&&(fa(),se(g,1,1,()=>{g=null}),ca());const te={};f&8&&(te.url=n[3]),f&2&&(te.sl=n[1]),K.$set(te)},i(n){I||(Y(h.$$.fragment,n),Y(A.$$.fragment,n),Y(g),Y(K.$$.fragment,n),I=!0)},o(n){se(h.$$.fragment,n),se(A.$$.fragment,n),se(g),se(K.$$.fragment,n),I=!1},d(n){n&&_(r),Le(h),Le(A),g&&g.d(),Le(K),He.r(),Re=!1,oa(Qe)}}}function Ia(t,r,s){let e,o;_a(t,ha,C=>s(18,o=C));let p=na.en,v="",i=7,h="",m=200;function k(C){s(1,p=na[C])}async function T(){const{status:C,id:re}=await ka(v,i);s(4,m=C),s(3,h=o.url.origin+"/secret/"+re);const H=document.querySelector("dialog");H==null||H.showModal()}const A=()=>{s(0,v="")},G=[[]],X=()=>k("en"),y=()=>k("nl");function j(){v=this.value,s(0,v)}function P(){i=this.__value,s(2,i)}function F(){i=this.__value,s(2,i)}function w(){i=this.__value,s(2,i)}function $(){i=this.__value,s(2,i)}const W=()=>T();return t.$$.update=()=>{t.$$.dirty&1&&s(5,e=!v)},[v,p,i,h,m,e,k,T,A,X,y,j,P,G,F,w,$,W]}class Ua extends Je{constructor(r){super(),Xe(this,r,Ia,ya,Fe,{})}}export{Ua as component};
